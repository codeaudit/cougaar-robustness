####################################################
# Rule to add AR-UC1 components to Adaptive Robustness management agent
####################################################

#
# OBJS Sensor components
#
sensor_domain              = "org.cougaar.tools.robustness.sensors.SensorDomain"
ping_server_plugin         = "org.cougaar.tools.robustness.sensors.PingServerPlugin"
hb_server_plugin           = "org.cougaar.tools.robustness.sensors.HeartbeatServerPlugin"
hb_requester_plugin        = "org.cougaar.tools.robustness.sensors.HeartbeatRequesterPlugin"
ping_requester_plugin      = "org.cougaar.tools.robustness.sensors.PingRequesterPlugin"

#
# MIC UC1 components
#
ar_servlet                 = "org.cougaar.tools.robustness.ma.ui.ARServlet"
node_health_monitor_plugin = "org.cougaar.tools.robustness.ma.plugins.NodeHealthMonitorPlugin"
persistence_control_plugin = "org.cougaar.tools.robustness.ma.plugins.PersistenceControlPlugin"

# Boeing components
load_balancer_plugin	   ="org.cougaar.robustness.exnihilo.plugin.EN4JPlugin"

#
# Infrastructure components
#
communityViewerServlet     = "org.cougaar.community.util.CommunityViewerServlet"

#
# Add components for management agents
#
society.each_agent do |agent|
  if agent.name =~ /.*ARManager.*/          # only apply to robustness managers
    agent.add_component do |c|
      c.name = agent.name + "|" + sensor_domain
      c.classname = sensor_domain
      c.priority = "COMPONENT"
      c.insertionpoint = "Node.AgentManager.Agent.DomainManager.Domain"
      c.add_argument("sensors")
    end
    agent.add_component do |c|
      c.classname = ping_server_plugin
    end
    agent.add_component do |c|
      c.classname = hb_server_plugin
    end
    agent.add_component do |c|
      c.classname = node_health_monitor_plugin
    end
    agent.add_component do |c|
      c.classname = persistence_control_plugin
    end
    agent.add_component do |c|
      c.classname = ar_servlet
    end
    agent.add_component do |c|
      c.classname = ping_requester_plugin
    end
    agent.add_component do |c|
      c.classname = communityViewerServlet
    end
    agent.add_component do |c|
      c.classname = ping_server_plugin
    end
    agent.add_component do |c|
      c.classname = hb_server_plugin
    end
    agent.add_component do |c|
      c.classname = load_balancer_plugin
    end
  end
end
